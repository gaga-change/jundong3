<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--<script src="//cdn.bootcss.com/vue/2.1.3/vue.min.js"></script>-->
<!--<script src="//cdn.bootcss.com/vue-resource/1.2.0/vue-resource.min.js"></script>-->
<script src="/lib/vue/vue.js"></script>
<script src="/lib/vue/vue-resource.js"></script>
<script>
    /**
     *  服务器未响应
     * */

    MyHttp = {
        base: "http://192.168.71.84:83/",
        vue: new Vue(),
        getCommodityProfession: function (params, cb) {
            if (!cb) return;
            this.jsonp(this.base + "profession", params).then(function (res) {
                var ret = JSON.parse(res.bodyText);
                cb(ret);
            }, function (err) {
                console.log(err);
            })
        },
        getCommodityFeature: function (params, cb) {
            if (!cb) return;
            this.jsonp(this.base + "feature", params).then(function (res) {
                var ret = JSON.parse(res.bodyText);
                cb(ret);
            }, function (err) {
                console.log(err);
            })
        },
        getCommodityNum: function (params, cb) {
            if (!cb) return;
            this.jsonp(this.base + "num", params).then(function (res) {
                var ret = JSON.parse(res.bodyText);
                cb(ret);
            }, function (err) {
                console.log(err);
            })
        },
        jsonp: function (url, params, jsonp) {
            if (!jsonp) jsonp = "cb";
            return this.vue.$http.jsonp(url,
                {
                    params: params,
                    jsonp: jsonp
                })
        }
    };

    MyHttp.getCommodityProfession({"a": 1}, function (data) {
        console.log(data);
    });
    MyHttp.getCommodityFeature({"b": 2}, function (data) {
        console.log(data);
    });
    MyHttp.getCommodityNum({"c": "3"}, function (data) {
        console.log(data);
    });
</script>

</body>
</html>